/**** Start of imports. If edited, may not auto-convert in the playground. ****/
var deviation = ee.Image("users/ujavalgandhi/e2e_projects/2016_rainfall_deviation"),
    admin2 = ee.FeatureCollection("FAO/GAUL_SIMPLIFIED_500m/2015/level2");
/***** End of imports. If edited, may not auto-convert in the playground. *****/
var districts = admin2.filter(ee.Filter.eq('ADM1_NAME', 'Karnataka'))

var visParams = {
  min:-70,
  max:20,
  palette: ['bdbdbd', 'd7191c','fdae61','ffffbf','abdda4','2b83ba']
}
Map.addLayer(deviation, visParams, 'Deviation')

var districtDeviation = deviation.reduceRegions({
  collection: districts,
  reducer: ee.Reducer.mean(),
  scale: 5000})
Map.addLayer(districtDeviation, {color: 'grey'}, 'District Deviations')

// To style vectors, we have to create empty image and 'paint' it.
var empty = ee.Image().byte()

var styledImage = empty.paint({
  featureCollection: districtDeviation,
  color: 'mean'
})

Map.addLayer(styledImage, visParams, 'Deviation')

var outline = styledImage.paint({
  featureCollection: districtDeviation,
  color: -70,
  width: 1
})
Map.addLayer(outline, visParams, 'with outline')